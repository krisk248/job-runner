# Job Runner Configuration - ADXIPO
# ============================================================================
# Deploy this file to: C:/TTS/REManagement/UAE/ADX/ipo-config/jobs.toml
# ============================================================================

[global]
java_home = "C:/TTS/Java/jdk1.8.0_191"
java_opts = "-Xms1024m -Xmx2048m"
config_dir = "C:/TTS/REManagement/UAE/ADX/ipo-config"
logs_dir = "C:/TTS/REManagement/UAE/ADX/Tomcat/logs/jobs"

# ============================================================================
# APPLICATIONS (Classpath Sources)
# ============================================================================

[apps.adxipo]
name = "ADXIPO"
webapp_path = "C:/TTS/REManagement/UAE/ADX/Tomcat/webapps/ADXIPO"

[apps.aiws]
name = "AIWS"
webapp_path = "C:/TTS/REManagement/UAE/ADX/Tomcat/webapps/AIWS"

# ============================================================================
# CONTINUOUS JOBS (Long-running, auto-start with "Start All Continuous")
# ============================================================================

[[jobs]]
id = "iws-email-sender"
name = "IWS Email Sender"
app = "aiws"
main_class = "com.ttsme.iws.processes.IWSEmailSender"
type = "continuous"
enabled = true
description = "Sends IWS email notifications"

[[jobs]]
id = "offer-process-listener"
name = "Offer Process Listener"
app = "adxipo"
main_class = "com.ttsme.dms.processes.OfferProcessListener"
type = "continuous"
enabled = true
description = "Listens for offer-related events and file changes"

# ============================================================================
# ON-DEMAND JOBS (Manual trigger, one-time execution)
# ============================================================================

[[jobs]]
id = "iws-recon-process"
name = "IWS Recon Process"
app = "adxipo"
main_class = "com.ttsme.iws.processes.ADXIWSPaymentReconFileProcessListener"
type = "on-demand"
enabled = true
description = "Processes payment reconciliation files"

[[jobs]]
id = "offer-data-cleanup"
name = "Offer Data Cleanup"
app = "adxipo"
main_class = "com.ttsme.bg.processes.offerDataCleanup"
type = "on-demand"
enabled = true
description = "Cleans up expired offer data from database"

[[jobs]]
id = "payment-reminder"
name = "Payment Reminder Notification"
app = "adxipo"
main_class = "com.ttsme.iws.notification.processor.PaymentReminderProcessor"
type = "on-demand"
enabled = true
description = "Enter reminder ID or leave empty"
args_required = true

[[jobs]]
id = "generate-csv-dar"
name = "Generate CSV DAR Report"
app = "adxipo"
main_class = "com.ttsme.oms.reporting.CSVRunner"
type = "on-demand"
enabled = true
description = "Args: companyCode offerCode banksCode reportType asOfNow (e.g., 1 2 all all 0)"
args_required = true
